rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Reviews Collection - Public read, authenticated write
    match /reviews/{document} {
      allow read: if true;  // Anyone can read reviews
      allow create: if true;  // Anyone can create reviews
      allow update: if false;  // No updates allowed
      allow delete: if false;  // No deletes allowed
    }
    
    // Bookings Collection - Public read/write for now
    match /bookings/{document} {
      allow read: if true;
      allow create: if true;
      allow update: if true;
      allow delete: if false;
    }
    
    // Admin Collection - Only admin access
    match /admin/{document} {
      allow read, write: if false;  // Disabled for now
    }
    
    // Users Collection - User can only access their own data
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
